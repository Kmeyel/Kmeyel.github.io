<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="theme-color" content="#f1f7fe">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Vditor - A markdown editor written in TypeScript.</title>
    <meta name="description" content="B3log å¼€æºç¤¾åŒº markdown ç¼–è¾‘å™¨ï¼Œä½¿ç”¨ TypeScript ç¼–å†™ã€‚æ”¯æŒåœ¨çº¿é¢„è§ˆã€è¡¨æƒ…æ’å…¥ã€at ç”¨æˆ·æç¤ºã€HTML è½¬æ¢ç­‰å¿…è¦åŠŸèƒ½ã€‚" />
    <meta property="og:description"
        content="B3log å¼€æºç¤¾åŒº markdown ç¼–è¾‘å™¨ï¼Œä½¿ç”¨ TypeScript ç¼–å†™ã€‚æ”¯æŒåœ¨çº¿é¢„è§ˆã€è¡¨æƒ…æ’å…¥ã€at ç”¨æˆ·æç¤ºã€HTML è½¬æ¢ç­‰å¿…è¦åŠŸèƒ½ã€‚" />
    <meta name="twitter:description" property="og:description" itemprop="description"
        content="B3log å¼€æºç¤¾åŒº markdown ç¼–è¾‘å™¨ï¼Œä½¿ç”¨ TypeScript ç¼–å†™ã€‚æ”¯æŒåœ¨çº¿é¢„è§ˆã€è¡¨æƒ…æ’å…¥ã€at ç”¨æˆ·æç¤ºã€HTML è½¬æ¢ç­‰å¿…è¦åŠŸèƒ½ã€‚" />
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net/" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/npm/vditor/dist/images/logo.png" />
    <link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/npm/vditor/dist/images/logo.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/npm/vditor/dist/images/logo.png">
    <meta name="copyright" content="B3log" />
    <meta http-equiv="Window-target" content="_top" />
    <meta property="og:locale" content="zh-cmn-Hans" />
    <meta property="og:title" content="Vditor - A markdown editor written in TypeScript." />
    <meta property="og:site_name" content="Blog-vditor" />
    <meta property="og:url" content="https://hacpai.com/tag/vditor" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:domain" content="b3log.org" />
    <meta name="twitter:title" property="og:title" itemprop="b3lig vditor"
        content="Vditor - A markdown editor written in TypeScript." />
    <meta name="twitter:site" content="@B3logOS" />
    <meta name="twitter:url" content="https://hacpai.com/tag/vditor" />
    <meta property="og:image" content="https://cdn.jsdelivr.net/npm/vditor/dist/images/logo.png" />
    <meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/vditor/dist/images/logo.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor@latest/dist/index.css" />
    <script src="https://cdn.jsdelivr.net/npm/vditor@latest/dist/index.min.js"></script>
    <script src="js/jquery.min.js"></script>
</head>

<body>

    <h2>
        Vditor for you
        <button onclick="vditor.setTheme('dark')">æš—è‰²</button>
        <button onclick="vditor.setTheme('light')">äº®è‰²</button>
        <button onclick="vditor.setValue('')">æ¸…ç©ºç¼–è¾‘å™¨</button>
        <input type="text" id="tex" placeholder="https://url/plan.md">
        <button onclick="openmd()">æ‰“å¼€æ–‡ä»¶</button>

    </h2>

    <div id="vditor">
        <h1>Vditor</h1>
        <ul>
            <li>foo</li>
            <li>bar</li>
        </ul>
    </div>
    <script>
        const vditor = new Vditor('vditor', {
            debugger: true,
            typewriterMode: true,
            placeholder: 'ä»è¿™é‡Œå¼€å§‹è¾“å…¥',
            // counter: 100, //å­—æ•°
            height: 500,
            preview: {
                markdown: {
                    toc: true,
                },
            },
            hint: {
                emojiPath: 'https://cdn.jsdelivr.net/npm/vditor@1.8.3/dist/images/emoji',
                emojiTail: '<a href="https://hacpai.com/settings/function" target="_blank">è®¾ç½®å¸¸ç”¨è¡¨æƒ…</a>',
                emoji: {
                    'sd': 'ğŸ’”',
                    'j': 'https://unpkg.com/vditor@1.3.1/dist/images/emoji/j.png',
                },
            },
            tab: '\t',
            upload: {
                accept: 'image/*,.mp3, .wav, .rar',
                token: 'test',
                url: '/api/upload/editor',
                linkToImgUrl: '/api/upload/fetch',
                filename(name) {
                    return name.replace(/[^(a-zA-Z0-9\u4e00-\u9fa5\.)]/g, '').
                        replace(/[\?\\/:|<>\*\[\]\(\)\$%\{\}@~]/g, '').
                        replace('/\\s/g', '')
                },
            },
        })

        // ########################
        // <input type="text" id="tex">
        // <button onclick="">æ‰“å¼€æ–‡ä»¶</button>
        
        
        function ww(url){
          
              $.get(url,function(md){
                         vditor.setValue(md);
              });
        }
        
        
        var initial= "./plan.md";     //ç¼–è¾‘å™¨å†…å®¹åˆå§‹å€¼
        var empty =  "./lib/test.md";  //urlä¸ºç©ºæ—¶
    
        ww(initial);
    
        function openmd() {
            var tex = document.querySelector('#tex');
            url = tex.value;
        
            if(url == ""){
              url = empty;
              ww(url);
              console.log("t",url);
            }else{
              ww(url);
              console.log("n",url);
            }  
        }
        
        






    </script>
</body>

</html>